language: node_js
script: play test && npm test && ./bliss ./upload_junitreport.sh
node_js:
- 0.1
env:
- PLAY_VERSION=2.2.3
before_script:
- export DISPLAY=:99.0
- sh -e /etc/init.d/xvfb start
- sudo sh -c 'echo "deb http://deb.opera.com/opera/ stable non-free" >> /etc/apt/sources.list.d/opera.list'
- sudo sh -c 'wget -O - http://deb.opera.com/archive.key | apt-key add -'
- sudo apt-get update
- sudo apt-get install opera
- wget http://downloads.typesafe.com/play/${PLAY_VERSION}/play-${PLAY_VERSION}.zip
- unzip -q play-${PLAY_VERSION}.zip
- export PATH=$PATH:$PWD/play-${PLAY_VERSION}/
before_deploy:
- if [[ -a .git/shallow ]]; then git fetch --unshallow; fi
notifications:
  email:
    on_success: never
    on_failure: change
cache:
  directories:
  - $HOME/.ivy2
deploy:
  provider: heroku
  app: unitcover
  strategy: git
  api_key:
    secure: D1OyD4rxP9TAvmbYtHHFdRJHuNdoaiuEHmex1QRylqYO3nggelDSBbogajAZPlbwHANkCOnHIPEEgP3zSthjKSZd2xWik7bYUSxYn3RmdQydIxq4NKoINoNeYoRSaRpXjcDxL9gr05B4C/qAd1s9UoAE/d01S+Dgdu12tGkH9Xg=
